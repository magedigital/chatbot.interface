# Bot Construct JS

Bot Construct JS - это визуальный редактор для создания чат-ботов с интуитивным интерфейсом и богатыми возможностями для проектирования логики взаимодействия с пользователями.

## Описание проекта

Bot Construct JS представляет собой мощный инструмент для визуального проектирования чат-ботов. Он позволяет создавать сложные сценарии взаимодействия с пользователями с помощью удобного drag-and-drop интерфейса, без необходимости писать код.

## Функциональность

### Основные возможности:
- **Визуальный редактор**: Интерактивный редактор на базе React Flow для создания и редактирования сценариев чат-бота
- **Управление экранами**: Создание и организация экранов (экранов взаимодействия с пользователем)
- **Управление нодами**: Добавление, редактирование и удаление различных типов нод (элементов взаимодействия)
- **Связи между нодами**: Визуальное создание логических связей между элементами сценария
- **Редактирование свойств**: Возможность настройки различных параметров нод и экранов
- **Загрузка изображений**: Поддержка добавления изображений к нодам и экранам
- **История изменений**: Поддержка undo/redo операций для удобства редактирования
- **Импорт/экспорт данных**: Возможность сохранения и загрузки проектов

### Типы нод:
- **Экраны**: Группирующие элементы для организации логики
- **Внутренние ноды**: Элементы взаимодействия внутри экранов
- **Соединения**: Логические связи между элементами

## Принцип работы

1. **Создание сценария**: Пользователь создает визуальный сценарий взаимодействия, добавляя экраны и ноды
2. **Настройка логики**: Через интерфейс редактирования настраиваются параметры каждого элемента
3. **Создание связей**: Устанавливаются логические связи между элементами для определения потока взаимодействия
4. **Сохранение**: Данные сохраняются в JSON-формате для дальнейшего использования

## Интерфейс

### Основные элементы интерфейса:
- **Верхнее меню**: Содержит основные команды (добавить экран, редактировать, флоу, расположить)
- **Рабочая область**: Центральная область для визуального редактирования сценариев
- **Панель инструментов**: Управление масштабом и навигацией по сцене
- **Диалоги редактирования**: Модальные окна для настройки свойств элементов

### Меню:
- **Добавить экран**: Создание нового экрана взаимодействия
- **Редактировать**: Команды отмены/возврата изменений
- **Флоу**: Экспорт/импорт данных, очистка
- **Расположить**: Автоматическое упорядочивание элементов

## API и интеграция

### Конфигурация
Приложение поддерживает глобальную конфигурацию через объект `window.config` с следующими параметрами:
- `loadUrl`: URL для загрузки данных проекта
- `saveUrl`: URL для сохранения данных проекта
- `publishUrl`: URL для публикации данных проекта

### Формат данных
Данные проекта представлены в JSON-формате со следующими основными полями:
```json
{
  "nodes": [...], // массив нод
  "edges": [...]  // массив связей
}
```

### Интеграция
Для интеграции с внешними системами:
1. Настройте конфигурацию в `window.config`
2. Реализуйте API-эндпоинты для сохранения и загрузки данных
3. Используйте экспорт/импорт функциональность для обмена данными

## Технологии

- **React**: Основной фреймворк
- **React Flow**: Визуальный редактор графов
- **PrimeReact**: Компоненты пользовательского интерфейса
- **Redux Toolkit**: Управление состоянием приложения
- **Redux Undo**: Поддержка операций отмены/возврата
- **Vite**: Сборка и разработка

## Установка и запуск

1. Установите зависимости:
```bash
npm install
```

2. Запустите в режиме разработки:
```bash
npm run dev
```

3. Для сборки продакшн-версии:
```bash
npm run build
```

## Горячие клавиши

- `Ctrl+Z` / `Cmd+Z`: Отменить последнее действие
- `Ctrl+Y` / `Cmd+Y`: Повторить отмененное действие

## Состояние приложения

Приложение использует Redux для управления состоянием с тремя основными слайсами:
- `nodesSlice`: Управление нодами и связями
- `configSlice`: Управление конфигурацией
- `editorSlice`: Управление состоянием редактора

## Архитектура

- **Компоненты**: Организованы в директории `src/components`
- **Стор**: Управление состоянием в `src/store`
- **Утилиты**: Вспомогательные функции в `src/utils`
- **Конфигурация**: Параметры интерфейса и утилит в `src/config`

## Авторы

Racer

## Лицензия

MIT